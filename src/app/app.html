<f-flow
  fDraggable
  [vCellSize]="32"
  [hCellSize]="32"
  (fLoaded)="onLoaded()"
  (fCreateConnection)="onCreateConnection($event)"
>
  <f-background>
    <f-circle-pattern [radius]="30" />
  </f-background>

  <f-canvas [fZoom]="true">
    <f-connection-for-create fBehavior="floating" fType="segment" [fOffset]="32">
      <svg
        id="normal_end"
        viewBox="0 0 700 700"
        fMarker
        [type]="eMarkerType.END"
        [height]="5"
        [width]="5"
        [refX]="4"
        [refY]="2.5"
      >
        <path d="M0,0 L700,350 L0,700 Z" />
      </svg>
    </f-connection-for-create>

    @for (connection of connections; track connection.to) {
      <f-connection
        [fReassignDisabled]="true"
        [fOutputId]="connection.from"
        [fInputId]="connection.to"
        fBehavior="fixed"
        [fOffset]="32"
        fType="segment"
      >
        <svg
          id="normal_end"
          viewBox="0 0 700 700"
          fMarker
          [type]="eMarkerType.END"
          [height]="5"
          [width]="5"
          [refX]="4"
          [refY]="2.5"
        >
          <path d="M0,0 L700,350 L0,700 Z" />
        </svg>

        <svg
          id="selected_end"
          viewBox="0 0 700 700"
          fMarker
          [type]="eMarkerType.SELECTED_END"
          [height]="5"
          [width]="5"
          [refX]="4"
          [refY]="2.5"
        >
          <path d="M0,0 L700,350 L0,700 Z" />
        </svg>
      </f-connection>
    }

    <div fNode fDragHandle [fNodePosition]="{ x: 32, y: 32 }" fOutputConnectableSide="right">
      <img src="webhook.svg" width="50" height="50" class="node-icon" />
      <div class="node-label">
        <span>Webhook</span>
      </div>
      <div
        class="right"
        fNodeOutput
        fOutputId="output1"
        [isSelfConnectable]="false"
        [fOutputMultiple]="true"
        fOutputConnectableSide="right"
      ></div>
    </div>

    <div
      fNode
      fDragHandle
      fNodeInput
      [fNodePosition]="{ x: 240, y: 32 }"
      fInputId="input1"
      fInputConnectableSide="left"
    >
      <img src="google.svg" width="50" height="50" class="node-icon" />
      <div class="node-label">
        <span>Google</span>
      </div>
    </div>
  </f-canvas>
</f-flow>

<router-outlet />
